# 扣子国内版 制作文字滚动效果的工作流

## 复制到工作流中

```
{"type":"coze-workflow-clipboard-data","source":{"workflowId":"7537610990579695658","flowMode":0,"spaceId":"7472683780642258985","isDouyin":false,"host":"www.coze.cn"},"json":{"nodes":[{"id":"151918","type":"4","meta":{"position":{"x":700.202085075201,"y":-87}},"data":{"nodeMeta":{"description":"创建一个剪映草稿","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/d3b11847a234484ab18b4c0a5acfb1bb~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1757578417&x-signature=YZZ9CHMpnjQwRTBBnwC3Eb7ZQxo%3D","subtitle":"视频剪辑_剪映草稿助手:create_draft","title":"create_draft"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7504135160821071884","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"create_draft","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7503106218777395219","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频剪辑_剪映草稿助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"error","required":false},{"type":"object","name":"output","schema":[{"type":"string","name":"draft_id","required":false},{"type":"string","name":"draft_url","required":false}],"required":false},{"type":"string","name":"purchase_link","required":false},{"type":"boolean","name":"success","required":false}]},"_temp":{"bounds":{"x":520.202085075201,"y":-87,"width":360,"height":112},"externalData":{"icon":"https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/332473957890636_1747190144847346721_ZtIC02VX5J.png?lk3s=cd508e2b&x-expires=1757584231&x-signature=U2UUrn5PzZLQLLYawyaL6pmWAbA%3D","apiName":"create_draft","pluginID":"7503106218777395219","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7439344939257495552","inputs":[{"defaultValue":1920,"description":"画布高度, default value is 1920","input":{},"name":"height","required":false,"type":"integer"},{"defaultValue":1080,"description":"画布宽度, default value is 1080","input":{},"name":"width","required":false,"type":"integer"}],"outputs":[{"input":{},"name":"error","required":false,"type":"string"},{"input":{},"name":"output","required":false,"schema":[{"input":{},"name":"draft_id","required":false,"type":"string"},{"input":{},"name":"draft_url","required":false,"type":"string"}],"type":"object"},{"input":{},"name":"purchase_link","required":false,"type":"string"},{"input":{},"name":"success","required":false,"type":"boolean"}],"updateTime":1754985565,"channel_id":2,"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"创建一个剪映草稿","title":"create_draft","mainColor":"#CA61FF"}}},{"id":"116289","type":"4","meta":{"position":{"x":1961.3705029177988,"y":-86.99999999999999}},"data":{"nodeMeta":{"description":"向视频中添加图片","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/d3b11847a234484ab18b4c0a5acfb1bb~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1757580241&x-signature=OrOCpYsprFwsowGxGzxyuRaqq2A%3D","subtitle":"视频剪辑_剪映草稿助手:add_image","title":"add_image"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7504135160821055500","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_image","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7503106218777395219","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频剪辑_剪映草稿助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"end","input":{"type":"float","value":{"type":"ref","content":{"source":"block-output","blockID":"104868","name":"output.duration"},"rawMeta":{"type":4}}}},{"name":"image_url","input":{"type":"string","value":{"type":"literal","content":"https://pic1.imgdb.cn/item/689aff2758cb8da5c81e64a2.png","rawMeta":{"type":1}}}},{"name":"start","input":{"type":"float","value":{"type":"literal","content":0,"rawMeta":{"type":4}}}},{"name":"draft_id","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"151918","name":"output.draft_id"},"rawMeta":{"type":1}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"error","required":false},{"type":"object","name":"output","schema":[{"type":"string","name":"draft_url","required":false},{"type":"string","name":"draft_id","required":false}],"required":false},{"type":"string","name":"purchase_link","required":false},{"type":"boolean","name":"success","required":false}]},"_temp":{"bounds":{"x":1781.3705029177988,"y":-86.99999999999999,"width":360,"height":112},"externalData":{"icon":"https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/332473957890636_1747190144847346721_ZtIC02VX5J.png?lk3s=cd508e2b&x-expires=1757584231&x-signature=U2UUrn5PzZLQLLYawyaL6pmWAbA%3D","apiName":"add_image","pluginID":"7503106218777395219","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7439344939257495552","inputs":[{"description":"遗弃不用，用intro_animation代替。入场动画，从飞书文档中查看支持的入场动画","input":{},"name":"animation","required":false,"type":"string"},{"description":"组合动画持续时间，单位秒","input":{},"name":"combo_animation_duration","required":false,"type":"float"},{"description":"蒙版类型，支持：线性、镜面、圆形、矩形、爱心、星形","input":{},"name":"mask_type","required":false,"type":"string"},{"description":"轨道相对位置，越大越靠前","input":{},"name":"relative_index","required":false,"type":"integer"},{"defaultValue":0.5,"description":"遗弃不用，用intro_animation_duration代替。入场动画持续时间，单位秒, default value is 0.5","input":{},"name":"animation_duration","required":false,"type":"float"},{"description":"组合动画，从飞书文档中查看支持的组合动画","input":{},"name":"combo_animation","required":false,"type":"string"},{"description":"结束时间，单位秒","input":{},"name":"end","required":true,"type":"float"},{"description":"蒙版的羽化参数，取值范围0~100，默认无羽化","input":{},"name":"mask_feather","required":false,"type":"float"},{"description":"垂直方向缩放","input":{},"name":"scale_y","required":false,"type":"float"},{"description":"垂直方向移动，1表示向上移动1个画布高度","input":{},"name":"transform_y","required":false,"type":"float"},{"defaultValue":0.5,"description":"蒙版的主要尺寸，以占素材高度的比例表示，默认为0.5, default value is 0.5","input":{},"name":"mask_size","required":false,"type":"float"},{"description":"转场效果，从飞书文档中查看支持的转场动画","input":{},"name":"transition","required":false,"type":"string"},{"description":"如果想基于已有的草稿继续编辑，这里填上次的草稿id，否则将创建新草稿","input":{},"name":"draft_id","required":false,"type":"string"},{"description":"图片链接","input":{},"name":"image_url","required":true,"type":"string"},{"description":"入场动画持续时间，单位秒","input":{},"name":"intro_animation_duration","required":false,"type":"float"},{"description":"矩形蒙版的圆角参数，仅在蒙版类型为矩形时允许设置，取值范围0~100","input":{},"name":"mask_round_corner","required":false,"type":"float"},{"description":"水平方向缩放","input":{},"name":"scale_x","required":false,"type":"float"},{"defaultValue":"C:\\Users\\Administrator\\AppData\\Local\\JianyingPro\\User Data\\Projects\\com.lveditor.draft","description":"(遗弃，请在save_draft方法设置草稿路径)草稿文件夹路径，在设置->全局设置->草稿位置","input":{},"name":"draft_folder","required":false,"type":"string"},{"description":"视频高度，单位像素","input":{},"name":"height","required":false,"type":"float"},{"description":"蒙版顺时针旋转的角度，默认不旋转","input":{},"name":"mask_rotation","required":false,"type":"float"},{"description":"转场持续时间，单位秒","input":{},"name":"transition_duration","required":false,"type":"float"},{"description":"视频宽度，单位像素","input":{},"name":"width","required":false,"type":"float"},{"description":"蒙版中心点Y坐标(以素材的像素为单位)，默认设置在素材中心","input":{},"name":"mask_center_y","required":false,"type":"float"},{"description":"背景高斯模糊，可选1，2，3，4四档，越大越模糊","input":{},"name":"background_blur","required":false,"type":"integer"},{"description":"出场动画持续时间，单位秒","input":{},"name":"outro_animation_duration","required":false,"type":"float"},{"description":"轨道名称","input":{},"name":"track_name","required":false,"type":"string"},{"defaultValue":false,"description":"是否反转蒙版，默认不反转, default value is false","input":{},"name":"mask_invert","required":false,"type":"boolean"},{"description":"矩形蒙版的宽度，仅在蒙版类型为矩形时允许设置，以占素材宽度的比例表示","input":{},"name":"mask_rect_width","required":false,"type":"float"},{"description":"出场动画，从飞书文档中查看支持的出场动画","input":{},"name":"outro_animation","required":false,"type":"string"},{"description":"蒙版中心点X坐标(以素材的像素为单位)，默认设置在素材中心","input":{},"name":"mask_center_x","required":false,"type":"float"},{"description":"入场动画，从飞书文档中查看支持的入场动画","input":{},"name":"intro_animation","required":false,"type":"string"},{"description":"开始时间，单位秒","input":{},"name":"start","required":true,"type":"float"},{"description":"水平方向移动，1表示向右移动1个画布宽度","input":{},"name":"transform_x","required":false,"type":"float"}],"outputs":[{"input":{},"name":"purchase_link","required":false,"type":"string"},{"input":{},"name":"success","required":false,"type":"boolean"},{"input":{},"name":"error","required":false,"type":"string"},{"input":{},"name":"output","required":false,"schema":[{"input":{},"name":"draft_id","required":false,"type":"string"},{"input":{},"name":"draft_url","required":false,"type":"string"}],"type":"object"}],"updateTime":1754985565,"channel_id":2,"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"向视频中添加图片","title":"add_image","mainColor":"#CA61FF"}}},{"id":"163273","type":"4","meta":{"position":{"x":201.24450767548979,"y":-87}},"data":{"nodeMeta":{"description":"识别字幕","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Plugin-v2.jpg","subtitle":"字幕识别_识别音视频字幕:speech_recognition","title":"speech_recognition"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7505701180081963027","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"speech_recognition","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7505701180081946643","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"字幕识别_识别音视频字幕","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"url","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"100001","name":"audio"},"rawMeta":{"type":1}}}},{"name":"license_key","input":{"type":"string","value":{"type":"literal","content":"08B88A2C-1D16-4CE1-982E-E3732F2655F3","rawMeta":{"type":1}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"purchase_link","required":false},{"type":"string","name":"srt","required":false},{"type":"string","name":"srt_url","required":false},{"type":"boolean","name":"success","required":false},{"type":"list","name":"words","schema":{"type":"object","schema":[{"type":"string","name":"text","required":false},{"type":"list","name":"words","schema":{"type":"object","schema":[{"type":"float","name":"end_time","required":false},{"type":"string","name":"text","required":false},{"type":"float","name":"begin_time","required":false}]},"required":false}]},"required":false},{"type":"string","name":"content","required":false},{"type":"string","name":"error","required":false}]},"_temp":{"bounds":{"x":21.244507675489785,"y":-87,"width":360,"height":112},"externalData":{"icon":"https://lf9-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/332473957890636_1747557199774072076_2049XEOw8V.png?lk3s=cd508e2b&x-expires=1757584231&x-signature=kla5IxtfRecePQN0S4tW7NRjDrc%3D","apiName":"speech_recognition","pluginID":"7505701180081946643","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7439344939257495552","inputs":[{"defaultValue":0,"description":"字体大小，不同编辑器对字体大小定义不同。这里采用剪映定义：font_size*10=像素, default value is 0","input":{},"name":"font_size","required":false,"type":"float"},{"defaultValue":"539C3FEB-74AE48D4-A964D52B-C520F801","description":"身份验证，可以在这里获取：https://www.coze.cn/store/project/7498257920212647946?bid=6g9oma7p44g00&entity_id=1, default value is 539C3FEB-74AE48D4-A964D52B-C520F801","input":{},"name":"license_key","required":false,"type":"string"},{"description":"播放链接","input":{},"name":"url","required":true,"type":"string"},{"defaultValue":0,"description":"屏幕宽度，像素大小, default value is 0","input":{},"name":"width","required":false,"type":"float"}],"outputs":[{"input":{},"name":"srt","required":false,"type":"string"},{"input":{},"name":"srt_url","required":false,"type":"string"},{"input":{},"name":"success","required":false,"type":"boolean"},{"input":{},"name":"words","required":false,"schema":{"schema":[{"input":{},"name":"text","required":false,"type":"string"},{"input":{},"name":"words","required":false,"schema":{"schema":[{"input":{},"name":"begin_time","required":false,"type":"float"},{"input":{},"name":"end_time","required":false,"type":"float"},{"input":{},"name":"text","required":false,"type":"string"}],"type":"object"},"type":"list"}],"type":"object"},"type":"list"},{"input":{},"name":"content","required":false,"type":"string"},{"input":{},"name":"error","required":false,"type":"string"},{"input":{},"name":"purchase_link","required":false,"type":"string"}],"updateTime":1754989695,"channel_id":2,"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"识别字幕","title":"speech_recognition","mainColor":"#CA61FF"}}},{"id":"104868","type":"4","meta":{"position":{"x":1110.202085075201,"y":-86.99999999999999}},"data":{"nodeMeta":{"description":"获取时长","icon":"https://p6-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/d3b11847a234484ab18b4c0a5acfb1bb~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1757582041&x-signature=zCiw6FE2smf6WarlWxzAxXKI4i0%3D","subtitle":"视频剪辑_剪映草稿助手:get_duration","title":"get_duration"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7514493672046510095","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"get_duration","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7503106218777395219","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频剪辑_剪映草稿助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"url","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"100001","name":"audio"},"rawMeta":{"type":1}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"object","name":"output","schema":[{"type":"float","name":"duration","required":false},{"type":"string","name":"video_url","required":false}],"required":false},{"type":"string","name":"purchase_link","required":false},{"type":"boolean","name":"success","required":false},{"type":"string","name":"error","required":false}]},"_temp":{"bounds":{"x":930.202085075201,"y":-86.99999999999999,"width":360,"height":112},"externalData":{"icon":"https://lf6-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/332473957890636_1747190144847346721_ZtIC02VX5J.png?lk3s=cd508e2b&x-expires=1757584231&x-signature=t3IWKstikOW7M7bbrFUt8ZWWFj0%3D","apiName":"get_duration","pluginID":"7503106218777395219","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7439344939257495552","inputs":[{"description":"链接","input":{},"name":"url","required":true,"type":"string"}],"outputs":[{"input":{},"name":"error","required":false,"type":"string"},{"input":{},"name":"output","required":false,"schema":[{"input":{},"name":"duration","required":false,"type":"float"},{"input":{},"name":"video_url","required":false,"type":"string"}],"type":"object"},{"input":{},"name":"purchase_link","required":false,"type":"string"},{"input":{},"name":"success","required":false,"type":"boolean"}],"updateTime":1754985565,"channel_id":2,"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"获取时长","title":"get_duration","mainColor":"#CA61FF"}}},{"id":"117999","type":"21","meta":{"position":{"x":1520.202085075201,"y":-74},"canvasPosition":{"x":1478.6214429974773,"y":332.3224972435221}},"data":{"inputs":{"inputParameters":[{"name":"input","input":{"type":"list","schema":{"type":"object","schema":[{"type":"string","name":"text","required":false},{"type":"list","name":"words","schema":{"type":"object","schema":[{"type":"float","name":"end_time","required":false},{"type":"string","name":"text","required":false},{"type":"float","name":"begin_time","required":false}]},"required":false}]},"value":{"type":"ref","content":{"source":"block-output","blockID":"163273","name":"words"},"rawMeta":{"type":103}}}}],"loopCount":{"type":"integer","value":{"type":"literal","content":"10"}},"loopType":"array","variableParameters":[]},"nodeMeta":{"description":"用于通过设定循环次数和逻辑，重复执行一系列任务","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Loop-v2.jpg","mainColor":"#00B2B2","subTitle":"循环","title":"循环"},"outputs":[]},"blocks":[{"id":"161273","type":"9","meta":{"position":{"x":0,"y":100}},"data":{"inputs":{"inputDefs":[{"input":{},"name":"words","required":false,"schema":[{"name":"text","required":false,"type":"string"},{"name":"words","required":false,"schema":{"schema":[{"name":"end_time","required":false,"type":"float"},{"name":"text","required":false,"type":"string"},{"name":"begin_time","required":false,"type":"float"}],"type":"object"},"type":"list"}],"type":"object"},{"input":{},"name":"draft_id","required":false,"type":"string"}],"inputParameters":[{"name":"draft_id","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"151918","name":"output.draft_id"},"rawMeta":{"type":1}}}},{"name":"words","input":{"type":"object","schema":[{"type":"string","name":"text","required":false},{"type":"list","name":"words","schema":{"type":"object","schema":[{"type":"float","name":"end_time","required":false},{"type":"string","name":"text","required":false},{"type":"float","name":"begin_time","required":false}]},"required":false}],"value":{"type":"ref","content":{"source":"block-output","blockID":"117999","name":"input"},"rawMeta":{"type":6}}}}],"settingOnError":{},"spaceId":"7472683780642258985","type":0,"workflowId":"7537629037804470323","workflowVersion":"v0.0.4"},"nodeMeta":{"description":"words_001_sub_879000","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Workflow-v2.jpg","isImageflow":false,"title":"words_001_sub_879000"},"outputs":[]},"_temp":{"bounds":{"x":1298.6214429974773,"y":432.3224972435221,"width":360,"height":112},"externalData":{"description":"words_001_sub_879000","icon":"https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/workflow.png?lk3s=81d4c505&x-expires=1754995834&x-signature=FYCRGr3go%2FnFMp4NwB6CWEXhWuk%3D","isImageflow":false,"title":"words_001_sub_879000","commit_id":"Bot_7537629037804470323_Publish_7537634183951220777","create_time":1754991021,"creator":{"avatar_url":"https://res.volccdn.com/obj/volc-console-fe/vconsole-static/cloudidentity.avartar-huoshan.9f69c68a.jpg","id":"2830571853585849","name":"RootUser_2104214584","self":true},"desc":"words_001_sub_879000","end_type":0,"flow_mode":0,"flow_version":"v0.0.4","flow_version_desc":"","icon_uri":"plugin_icon/workflow.png","is_project":false,"latest_flow_version":"v0.0.4","latest_flow_version_desc":"4","name":"words_001_sub_879000","output_nodes":[],"plugin_id":"7537629045962358811","space_id":"7472683780642258985","update_time":1754992221,"version":"","workflow_id":"7537629037804470323","inputsDefinition":[{"input":{},"name":"words","required":false,"schema":[{"name":"text","required":false,"type":"string"},{"name":"words","required":false,"schema":{"schema":[{"name":"end_time","required":false,"type":"float"},{"name":"text","required":false,"type":"string"},{"name":"begin_time","required":false,"type":"float"}],"type":"object"},"type":"list"}],"type":"object"},{"input":{},"name":"draft_id","required":false,"type":"string"}],"latestVersion":"v0.0.4","mainColor":"#00B83E"}}}],"edges":[{"sourceNodeID":"117999","targetNodeID":"161273","sourcePortID":"loop-function-inline-output"},{"sourceNodeID":"161273","targetNodeID":"117999","targetPortID":"loop-function-inline-input"}],"_temp":{"bounds":{"x":1340.202085075201,"y":-74,"width":360,"height":138},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Loop-v2.jpg","description":"用于通过设定循环次数和逻辑，重复执行一系列任务","title":"循环","mainColor":"#00B2B2"}}},{"id":"124458","type":"4","meta":{"position":{"x":2371.370502917799,"y":-90.25}},"data":{"nodeMeta":{"title":"add_audio","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/d3b11847a234484ab18b4c0a5acfb1bb~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1757583845&x-signature=f2X8zzxn%2BoMi6SwBDUT14w%2B2iqk%3D","subtitle":"视频剪辑_剪映草稿助手:add_audio","description":"添加音频"},"inputs":{"apiParam":[{"name":"apiID","input":{"type":"string","value":{"type":"literal","content":"7505052737164410906","rawMeta":{"type":1}}}},{"name":"apiName","input":{"type":"string","value":{"type":"literal","content":"add_audio","rawMeta":{"type":1}}}},{"name":"pluginID","input":{"type":"string","value":{"type":"literal","content":"7503106218777395219","rawMeta":{"type":1}}}},{"name":"pluginName","input":{"type":"string","value":{"type":"literal","content":"视频剪辑_剪映草稿助手","rawMeta":{"type":1}}}},{"name":"pluginVersion","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}},{"name":"tips","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}},{"name":"outDocLink","input":{"type":"string","value":{"type":"literal","content":"","rawMeta":{"type":1}}}}],"inputParameters":[{"name":"audio_url","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"100001","name":"audio"},"rawMeta":{"type":1}}}},{"name":"draft_id","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"151918","name":"output.draft_id"},"rawMeta":{"type":1}}}},{"name":"target_start","input":{"type":"float","value":{"type":"literal","content":0,"rawMeta":{"type":4}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"purchase_link","required":false},{"type":"boolean","name":"success","required":false},{"type":"string","name":"error","required":false},{"type":"object","name":"output","schema":[{"type":"string","name":"draft_id","required":false},{"type":"string","name":"draft_url","required":false}],"required":false}]},"_temp":{"bounds":{"x":2191.370502917799,"y":-90.25,"width":360,"height":112},"externalData":{"icon":"https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/332473957890636_1747190144847346721_ZtIC02VX5J.png?lk3s=cd508e2b&x-expires=1757584332&x-signature=5i6sAn9gEtBqX3AW54qn6AJHdzU%3D","apiName":"add_audio","pluginID":"7503106218777395219","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7439344939257495552","inputs":[{"defaultValue":"https://help-static-aliyun-doc.aliyuncs.com/file-manage-files/zh-CN/20240830/dzkngm/%E9%BE%99%E5%A9%89.mp3","description":"音频链接, default value is https://help-static-aliyun-doc.aliyuncs.com/file-manage-files/zh-CN/20240830/dzkngm/%E9%BE%99%E5%A9%89.mp3","input":{},"name":"audio_url","required":true,"type":"string"},{"defaultValue":1,"description":"变速, default value is 1","input":{},"name":"speed","required":false,"type":"float"},{"description":"轨道名称","input":{},"name":"track_name","required":false,"type":"string"},{"defaultValue":1,"description":"音量，取值范围[0,1], default value is 1","input":{},"name":"volume","required":false,"type":"float"},{"description":"截取原始素材结束时间","input":{},"name":"end","required":false,"type":"float"},{"defaultValue":0,"description":"截取原始素材开始时间, default value is 0","input":{},"name":"start","required":false,"type":"float"},{"description":"目标轨道开始时间","input":{},"name":"target_start","required":false,"type":"float"},{"defaultValue":"C:\\Users\\Administrator\\AppData\\Local\\JianyingPro\\User Data\\Projects\\com.lveditor.draft","description":"草稿文件夹路径，在设置->全局设置->草稿位置, default value is C:\\Users\\Administrator\\AppData\\Local\\JianyingPro\\User Data\\Projects\\com.lveditor.draft","input":{},"name":"draft_folder","required":false,"type":"string"},{"description":"如果想基于已有的草稿继续编辑，这里填上次的草稿id","input":{},"name":"draft_id","required":false,"type":"string"},{"description":"素材时长，单位s，主动设置可以大幅提升节点速度","input":{},"name":"duration","required":false,"type":"float"},{"description":"音效参数列表","input":{},"name":"effect_params","required":false,"schema":{"type":"float"},"type":"list"},{"description":"场景音效名","input":{},"name":"effect_type","required":false,"type":"string"}],"outputs":[{"input":{},"name":"purchase_link","required":false,"type":"string"},{"input":{},"name":"success","required":false,"type":"boolean"},{"input":{},"name":"error","required":false,"type":"string"},{"input":{},"name":"output","required":false,"schema":[{"input":{},"name":"draft_id","required":false,"type":"string"},{"input":{},"name":"draft_url","required":false,"type":"string"}],"type":"object"}],"updateTime":1754985565,"channel_id":2,"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"添加音频","title":"add_audio","mainColor":"#CA61FF"}}}],"edges":[{"sourceNodeID":"163273","targetNodeID":"151918"},{"sourceNodeID":"151918","targetNodeID":"104868"},{"sourceNodeID":"117999","targetNodeID":"116289","sourcePortID":"loop-output"},{"sourceNodeID":"116289","targetNodeID":"124458"},{"sourceNodeID":"104868","targetNodeID":"117999"}]},"bounds":{"x":21.244507675489785,"y":-90.25,"width":2530.1259952423093,"height":154.25}}
```

## 子工作流
```
{"type":"coze-workflow-clipboard-data","source":{"workflowId":"7537629037804470323","flowMode":0,"spaceId":"7472683780642258985","isDouyin":false,"host":"www.coze.cn"},"json":{"nodes":[{"id":"104882","type":"21","meta":{"position":{"x":1515.0475400760736,"y":125.0817982952324},"canvasPosition":{"x":1378.7425180584742,"y":552.0873672761959}},"data":{"inputs":{"inputParameters":[{"name":"words","input":{"type":"list","schema":{"type":"object","schema":[{"type":"float","name":"end_time","required":false},{"type":"string","name":"text","required":false},{"type":"float","name":"begin_time","required":false}]},"value":{"type":"ref","content":{"source":"block-output","blockID":"100001","name":"words.words"},"rawMeta":{"type":103}}}}],"loopCount":{"type":"integer","value":{"type":"literal","content":"10"}},"loopType":"array","variableParameters":[]},"nodeMeta":{"description":"用于通过设定循环次数和逻辑，重复执行一系列任务","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Loop-v2.jpg","mainColor":"#00B2B2","subTitle":"循环","title":"循环"},"outputs":[]},"blocks":[{"id":"106954","type":"4","meta":{"position":{"x":736.8905568920494,"y":100}},"data":{"nodeMeta":{"description":"添加文字","icon":"https://p26-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/d3b11847a234484ab18b4c0a5acfb1bb~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1757580241&x-signature=OrOCpYsprFwsowGxGzxyuRaqq2A%3D","subtitle":"视频剪辑_剪映草稿助手:add_text","title":"add_text"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7505380341906178083","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"add_text","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7503106218777395219","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"视频剪辑_剪映草稿助手","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"end","input":{"type":"float","value":{"type":"ref","content":{"source":"block-output","blockID":"180951","name":"result"},"rawMeta":{"type":4}}}},{"name":"start","input":{"type":"float","value":{"type":"ref","content":{"source":"block-output","blockID":"157989","name":"result"},"rawMeta":{"type":4}}}},{"name":"text","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"100001","name":"words.text"},"rawMeta":{"type":1}}}},{"name":"background_alpha","input":{"type":"float","value":{"type":"literal","content":1,"rawMeta":{"type":4}}}},{"name":"background_color","input":{"type":"string","value":{"type":"literal","content":"#000000","rawMeta":{"type":1}}}},{"name":"border_alpha","input":{"type":"float","value":{"type":"literal","content":1,"rawMeta":{"type":4}}}},{"name":"border_color","input":{"type":"string","value":{"type":"literal","content":"#FFFFFF","rawMeta":{"type":1}}}},{"name":"border_width","input":{"type":"float","value":{"type":"literal","content":40,"rawMeta":{"type":4}}}},{"name":"draft_id","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"100001","name":"draft_id"},"rawMeta":{"type":1}}}},{"name":"fixed_width","input":{"type":"float","value":{"type":"literal","content":0.7,"rawMeta":{"type":4}}}},{"name":"font","input":{"type":"string","value":{"type":"literal","content":"金陵体","rawMeta":{"type":1}}}},{"name":"font_color","input":{"type":"string","value":{"type":"literal","content":"#000000","rawMeta":{"type":1}}}},{"name":"font_size","input":{"type":"float","value":{"type":"literal","content":8,"rawMeta":{"type":4}}}},{"name":"text_styles","input":{"type":"list","schema":{"type":"object"},"value":{"type":"ref","content":{"source":"block-output","blockID":"193548","name":"text_styles"},"rawMeta":{"type":103}}}},{"name":"track_name","input":{"type":"string","value":{"type":"literal","content":"text_main","rawMeta":{"type":1}}}},{"name":"transform_y","input":{"type":"float","value":{"type":"literal","content":-0.6,"rawMeta":{"type":4}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"object","name":"output","schema":[{"type":"string","name":"draft_id","required":false},{"type":"string","name":"draft_url","required":false}],"required":false},{"type":"string","name":"purchase_link","required":false},{"type":"boolean","name":"success","required":false},{"type":"string","name":"error","required":false}]},"_temp":{"bounds":{"x":1935.6330749505237,"y":652.0873672761959,"width":360,"height":112},"externalData":{"icon":"https://lf6-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/332473957890636_1747190144847346721_ZtIC02VX5J.png?lk3s=cd508e2b&x-expires=1757584798&x-signature=ZLtE4uFSvQ7XXTkzmQ%2FnoIUsBYo%3D","apiName":"add_text","pluginID":"7503106218777395219","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7439344939257495552","inputs":[{"description":"文本","input":{},"name":"text","required":true,"type":"string"},{"description":"轨道名称","input":{},"name":"track_name","required":false,"type":"string"},{"description":"视频宽度","input":{},"name":"width","required":false,"type":"float"},{"description":"背景透明度（范围0.0-1.0）","input":{},"name":"background_alpha","required":false,"type":"float"},{"description":"入场动画，支持的动画参考文档","input":{},"name":"intro_animation","required":false,"type":"string"},{"defaultValue":-1,"description":"高度限制，-1表示不限制，1表示一个画布高度，默认不限制, default value is -1","input":{},"name":"fixed_height","required":false,"type":"float"},{"defaultValue":"思源中宋","description":"字体，可选字体参考文档, default value is 思源中宋","input":{},"name":"font","required":false,"type":"string"},{"description":"文字透明度（范围0.0-1.0）","input":{},"name":"font_alpha","required":false,"type":"float"},{"defaultValue":8,"description":"字体大小, default value is 8","input":{},"name":"font_size","required":false,"type":"float"},{"description":"入场动画持续时间，单位s","input":{},"name":"intro_duration","required":false,"type":"float"},{"description":"开始时间","input":{},"name":"start","required":true,"type":"float"},{"defaultValue":0,"description":"背景样式（0 或者2）, default value is 0","input":{},"name":"background_style","required":false,"type":"integer"},{"defaultValue":1,"description":"描边透明度（范围0.0-1.0）, default value is 1","input":{},"name":"border_alpha","required":false,"type":"float"},{"description":"描边宽度","input":{},"name":"border_width","required":false,"type":"float"},{"description":"如果想基于已有的草稿继续编辑，这里填上次的草稿id","input":{},"name":"draft_id","required":false,"type":"string"},{"defaultValue":-1,"description":"宽度限制，-1表示不限制，1表示一个画布宽度，默认不限制, default value is -1","input":{},"name":"fixed_width","required":false,"type":"float"},{"description":"分段设置文本样式","input":{},"name":"text_styles","required":false,"schema":{"schema":[{"description":"边框","input":{},"name":"border","required":false,"schema":[{"description":"透明度，1表示不透明，0表示透明","input":{},"name":"alpha","required":false,"type":"float"},{"description":"颜色，例如#FFFFFF","input":{},"name":"color","required":false,"type":"string"},{"description":"宽度","input":{},"name":"width","required":false,"type":"float"}],"type":"object"},{"description":"结束字符位置，不包含","input":{},"name":"end","required":false,"type":"integer"},{"description":"字体","input":{},"name":"font","required":false,"type":"string"},{"description":"开始字符位置，包含","input":{},"name":"start","required":false,"type":"integer"},{"description":"文本样式","input":{},"name":"style","required":false,"schema":[{"description":"字体大小","input":{},"name":"size","required":false,"type":"integer"},{"description":"是否下划线","input":{},"name":"underline","required":false,"type":"boolean"},{"description":"是否加粗","input":{},"name":"bold","required":false,"type":"boolean"},{"description":"颜色，例如#FFFFFF","input":{},"name":"color","required":false,"type":"string"},{"description":"是否倾斜","input":{},"name":"italic","required":false,"type":"boolean"}],"type":"object"}],"type":"object"},"type":"list"},{"description":"是否竖排","input":{},"name":"vertical","required":false,"type":"boolean"},{"defaultValue":"#000000","description":"背景颜色（HEX格式）, default value is #000000","input":{},"name":"background_color","required":false,"type":"string"},{"defaultValue":"#000000","description":"描边颜色（HEX格式）, default value is #000000","input":{},"name":"border_color","required":false,"type":"string"},{"defaultValue":"#ff0000","description":"字体颜色（HEX格式，如：#FF0000）, default value is #ff0000","input":{},"name":"font_color","required":false,"type":"string"},{"description":"视频高度","input":{},"name":"height","required":false,"type":"float"},{"description":"出场动画，支持的动画参考文档","input":{},"name":"outro_animation","required":false,"type":"string"},{"description":"出场动画持续时间，单位s","input":{},"name":"outro_duration","required":false,"type":"float"},{"description":"Y轴位置（以视频中心为原点，对应视频高度）。    - 垂直移动像素 = transform_y * 视频高度","input":{},"name":"transform_x","required":false,"type":"float"},{"description":"X轴位置（以视频中心为原点，对应视频宽度）,    - 水平移动像素 = transform_x * 视频宽度","input":{},"name":"transform_y","required":false,"type":"float"},{"defaultValue":"C:\\Users\\Administrator\\AppData\\Local\\JianyingPro\\User Data\\Projects\\com.lveditor.draft","description":"草稿文件夹路径，在设置->全局设置->草稿位置, default value is C:\\Users\\Administrator\\AppData\\Local\\JianyingPro\\User Data\\Projects\\com.lveditor.draft","input":{},"name":"draft_folder","required":false,"type":"string"},{"description":"结束时间","input":{},"name":"end","required":true,"type":"float"}],"outputs":[{"input":{},"name":"success","required":false,"type":"boolean"},{"input":{},"name":"error","required":false,"type":"string"},{"input":{},"name":"output","required":false,"schema":[{"input":{},"name":"draft_id","required":false,"type":"string"},{"input":{},"name":"draft_url","required":false,"type":"string"}],"type":"object"},{"input":{},"name":"purchase_link","required":false,"type":"string"}],"updateTime":1754985565,"channel_id":2,"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"添加文字","title":"add_text","mainColor":"#CA61FF"}}},{"id":"157989","type":"4","meta":{"position":{"x":-518.8821681035878,"y":100}},"data":{"nodeMeta":{"description":"求两个数的商，输入两个数，返回两个数的商","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/56e839d759074f8db1dc249d563d3697~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1757581459&x-signature=4adr7sF57tzkf%2F%2BXC%2Fgk9mFN6Z4%3D","subtitle":"简易计算器:division","title":"division"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7485626894092910627","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"division","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7485626894092894243","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"简易计算器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"num_one","input":{"type":"float","value":{"type":"ref","content":{"source":"block-output","blockID":"104882","name":"words.begin_time"},"rawMeta":{"type":4}}}},{"name":"num_two","input":{"type":"float","value":{"type":"literal","content":1000,"rawMeta":{"type":4}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"float","name":"result","required":false}]},"_temp":{"bounds":{"x":679.8603499548864,"y":652.0873672761959,"width":360,"height":112},"externalData":{"icon":"https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/4308351770956154_1742883042571963859_9eIIucOt0W.jpg?lk3s=cd508e2b&x-expires=1757584798&x-signature=S3U1XbOD06780Y6xOLsfwBt7DKQ%3D","apiName":"division","pluginID":"7485626894092894243","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7477398004849688586","inputs":[{"description":"数字1","input":{},"name":"num_one","required":true,"type":"float"},{"description":"数字2","input":{},"name":"num_two","required":true,"type":"float"}],"outputs":[{"input":{},"name":"result","required":false,"type":"float"}],"updateTime":1754797602,"channel_id":2,"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"求两个数的商，输入两个数，返回两个数的商","title":"division","mainColor":"#CA61FF"}}},{"id":"180951","type":"4","meta":{"position":{"x":-83.10944310795043,"y":100}},"data":{"nodeMeta":{"description":"求两个数的商，输入两个数，返回两个数的商","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/56e839d759074f8db1dc249d563d3697~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1757581459&x-signature=4adr7sF57tzkf%2F%2BXC%2Fgk9mFN6Z4%3D","subtitle":"简易计算器:division","title":"division_1"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7485626894092910627","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"division","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7485626894092894243","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"简易计算器","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"num_one","input":{"type":"float","value":{"type":"ref","content":{"source":"block-output","blockID":"104882","name":"words.end_time"},"rawMeta":{"type":4}}}},{"name":"num_two","input":{"type":"float","value":{"type":"literal","content":1000,"rawMeta":{"type":4}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"float","name":"result","required":false}]},"_temp":{"bounds":{"x":1115.6330749505237,"y":652.0873672761959,"width":360,"height":112},"externalData":{"icon":"https://lf3-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/4308351770956154_1742883042571963859_9eIIucOt0W.jpg?lk3s=cd508e2b&x-expires=1757584798&x-signature=S3U1XbOD06780Y6xOLsfwBt7DKQ%3D","apiName":"division","pluginID":"7485626894092894243","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7477398004849688586","inputs":[{"description":"数字1","input":{},"name":"num_one","required":true,"type":"float"},{"description":"数字2","input":{},"name":"num_two","required":true,"type":"float"}],"outputs":[{"input":{},"name":"result","required":false,"type":"float"}],"updateTime":1754797602,"channel_id":2,"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"求两个数的商，输入两个数，返回两个数的商","title":"division","mainColor":"#CA61FF"}}},{"id":"193548","type":"5","meta":{"position":{"x":326.8905568920495,"y":100}},"data":{"nodeMeta":{"description":"编写代码，处理输入变量来生成返回值","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","title":"代码","subTitle":"代码"},"inputs":{"inputParameters":[{"name":"sentences","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"100001","name":"words.text"},"rawMeta":{"type":1}}}},{"name":"word","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"104882","name":"words.text"},"rawMeta":{"type":1}}}}],"code":"# 在这里，您可以通过 'args'  获取节点中的输入变量，并通过 'ret' 输出结果\n# 'args' 已经被正确地注入到环境中\n# 下面是一个示例，首先获取节点的全部输入参数params，其次获取其中参数名为'input'的值：\n# params = args.params; \n# input = params['input'];\n# 下面是一个示例，输出一个包含多种数据类型的 'ret' 对象：\n# ret: Output =  { \"name\": '小明', \"hobbies\": [\"看书\", \"旅游\"] };\nasync def main(args: Args) -> Output:\n    params = args.params\n    # 取 sentences 中的唯一一句文本\n    sentence = params['sentences']\n    target_word = params['word']\n    \n    text_styles = []\n    word_len = len(target_word)\n    sent_len = len(sentence)\n    index = 0\n    \n    # 在单句中查找所有目标词\n    while index <= sent_len - word_len:\n        # 精确匹配目标词\n        if sentence[index:index + word_len] == target_word:\n            # 构建样式结构体，仅颜色改为紫色（#9900FF）\n            style_entry = {\n                \"start\": index,  # 起始位置（包含）\n                \"end\": index + word_len,  # 结束位置（不包含）\n                \"style\": {\n                    \"color\": \"#9900FF\"  # 紫色\n                }\n            }\n            text_styles.append(style_entry)\n            # 跳过已匹配部分，避免重复匹配\n            index += word_len\n        else:\n            index += 1\n    \n    return {\"text_styles\": text_styles}","language":3,"settingOnError":{"switch":false,"processType":1,"timeoutMs":60000,"retryTimes":0}},"outputs":[{"type":"string","name":"text_styles","required":false}]},"_temp":{"bounds":{"x":1525.6330749505237,"y":652.0873672761959,"width":360,"height":112},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Code-v2.jpg","description":"编写代码，处理输入变量来生成返回值","title":"代码","mainColor":"#00B2B2"}}}],"edges":[{"sourceNodeID":"193548","targetNodeID":"106954"},{"sourceNodeID":"106954","targetNodeID":"104882","targetPortID":"loop-function-inline-input"},{"sourceNodeID":"104882","targetNodeID":"157989","sourcePortID":"loop-function-inline-output"},{"sourceNodeID":"157989","targetNodeID":"180951"},{"sourceNodeID":"180951","targetNodeID":"193548"}],"_temp":{"bounds":{"x":1335.0475400760736,"y":125.0817982952324,"width":360,"height":138},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-Loop-v2.jpg","description":"用于通过设定循环次数和逻辑，重复执行一系列任务","title":"循环","mainColor":"#00B2B2"}}}],"edges":[]},"bounds":{"x":1335.0475400760736,"y":125.0817982952324,"width":360,"height":137.99999999999997}}
```